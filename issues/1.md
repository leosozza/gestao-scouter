### Mapa único com dados em tempo real do Google Sheets via Supabase (Scouters cluster + Fichas heatmap)

Hoje o mapa não carrega dados de forma confiável porque o front tenta buscar CSV direto do Google Sheets (CORS) e não há pipeline estável de ingest. Precisamos padronizar o fluxo Sheets → Supabase → Front e entregar dois modos no mesmo mapa:
* Scouters: cluster que explode no zoom e exibe nome do scouter no pino individual.
* Fichas: heatmap por densidade de fichas (vermelho = maior concentração).

## Tarefas:
* Criar/rodar migrations para scouters, scouter_locations, fichas e fichas_geo.
* Deploy das Edge Functions: sync-scouters e sync-fichas (com X-Secret).
* Configurar variáveis no Supabase: SHEETS_SYNC_SHARED_SECRET, SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY.
* Instalar Apps Script na planilha (abas Scouters e Fichas) com gatilho de 1–5 min.
* Front: criar fonte/layes do Mapbox GL:
    * scouters com cluster, cluster-count, unclustered + popup com nome.
    * fichas com heatmap configurado.
* Toggle UI para alternar entre “Scouters” e “Fichas”.
* Remover fetch de CSV do Google em produção (manter só para DEV, se necessário).

## Critérios de aceite:
* Ao editar a planilha, os marcadores de scouters atualizam (após o ciclo do GAS) e, no zoom, exibem nome no popup.
* O heatmap de fichas reflete a densidade de pontos; regiões com mais fichas ficam vermelhas.
* Sem erros de CORS no console em produção.
* Logs das Functions mostram upsert bem-sucedido; Supabase contém dados coerentes.

## Notas:
* Se a planilha fornecer endereços em vez de “lat,lng”, criar uma função posterior (geocode-fichas) e chave do provider.
* GIDs/abas ficam mapeados no Apps Script; qualquer mudança de aba exige apenas ajuste no GAS.